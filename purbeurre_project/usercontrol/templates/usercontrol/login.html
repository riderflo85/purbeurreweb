{% extends 'search/base.html' %}

{% block content %}
    <header class="masthead">
        <div class="container-fluid h-100">
            <div class="row h-100 align-items-center justify-content-center text-center">
                <div class="col-lg-10 align-self-center">
                    <h1 class="text-white">Connectez vous et retrouvez vos aliments favoris</h1>
                </div>

                <div class="col-lg-8 align-self-baseline">
                    <div class="card" id="field-login">
                        <div class="card-body">
                            {% if error %}
                            <h3 class="text-danger bg-dark">Utilisateur incorrect ou mot de passe invalide</h3>
                            {% endif %}

                            {% if user.is_authenticated %}
                            <h3 class="text-white">Vous êtes connectez {{ user.username }}!</h3>
                            {% else %}
                            <form action="{% url 'usercontrol:user_login' %}" method='post'>
                                {% csrf_token %}
                                <div class="input-group form-group">
                                    <div class="input-group-prepend fav-icon-bg">
                                        <span class="input-group-text fav-icon-bg"><i class="fas fa-user"></i></span>
                                    </div>
                                    {{ form.user }}
                                    {% comment %} <input type="text" class="form-control" placeholder="Pseudo ou email"> {% endcomment %}
                                </div><!-- end .input-group form-group -->
                                <div class="input-group form-group">
                                    <div class="input-group-prepend fav-icon-bg">
                                        <span class="input-group-text fav-icon-bg"><i class="fas fa-key"></i></span>
                                    </div>
                                    {{ form.password }}
                                    {% comment %} <input type="password" class="form-control" placeholder="Mot de passe"> {% endcomment %}
                                </div><!-- end .input-group form-group -->
                                <div class="form-group">
                                    <input type="submit" value="Connexion" class="btn btn-color-personal float-right login_btn">
                                </div>
                            </form><!-- end form -->
                            {% endif %}
                            
                        </div><!-- end .card-body -->
                        <div class="card-footer">
                            <div class="d-flex justify-content-center links text-white">
                                Vous n’avez pas de compte? <a class="color-cyan link-style" href="{% url 'usercontrol:sign_up' %}"> Inscrivez-vous</a>
                            </div>
                        </div>
                    </div><!-- end .card -->
                </div><!-- end .col-lg-8 align-self-baseline -->

            </div><!-- end .row h-100 align-items-center... -->
        </div><!-- end .container h-100 -->
    </header>
{% endblock content %}